#coding=utf-8
zstring = (
'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'
)
# len(zstring): 14640
import lzma
import execjs
import base64
import urllib.parse

jscode = lzma.decompress(base64.b64decode(zstring)).decode("utf-8")
ctx = execjs.compile(jscode)
def get_sign(ts):
    he   = ctx.call('he', ts)
    sign = ctx.call('sh','/api/tiktok/search/user{}'.format(ts))
    hi   = ctx.call('hi',ts) # 貌似是 d-v 参数，不过现在并不需要校验
    hes = []
    his = []
    for i in he: hes.extend(i)
    for i in hi: his.extend(i)
    # 由于 node 和 chrome 不同环境带来的憨批问题，base64 的处理用 python 解决
    he = urllib.parse.quote(base64.b64encode(bytes(hes)).decode())
    hi = urllib.parse.quote(base64.b64encode(bytes(his)).decode())
    return ts, he, sign, hi

# -*- coding: utf-8 -*-
import scrapy
from scrapy import Request, Selector
from lxml import etree

import re
import json
from urllib.parse import unquote, quote, urlencode

class VSpider(scrapy.Spider):
    name = 'v'

    custom_settings = {
        'COOKIES_ENABLED': False,  # Do not use automatic cookie caching(set 'dont_merge_cookies' as True in Request.meta is same)
    }
    proxy = None # 'http://127.0.0.1:8888'

    def start_requests(self):
        def mk_url_headers_body(key, ts, he, sign, hi):
            url = (
                'https://api.douchacha.com/api/tiktok/search/user'
                '?ts={}'
                '&he={}'
                '&sign={}'
            ).format(ts, he, sign)
            headers = {
                "Accept": "application/json, text/plain, */*",
                "Accept-Encoding": "gzip, deflate, ", # auto delete br encoding. cos requests and scrapy can not decode it.
                "Accept-Language": "zh-CN,zh;q=0.9",
                "Cache-Control": "no-cache",
                "Connection": "keep-alive",
                "Content-Type": "application/json;charset=UTF-8",
                "d-t": ts,
                # "d-v": hi, # 这里可以不用填写
                "dcc-href": "https://www.douchacha.com/searchdetail?name=%E4%BD%A0%E5%A5%BD",
                "Host": "api.douchacha.com",
                "Origin": "https://www.douchacha.com",
                "Pragma": "no-cache",
                "Referer": "https://www.douchacha.com/searchdetail?name=%E4%BD%A0%E5%A5%BD",
                "Sec-Fetch-Dest": "empty",
                "Sec-Fetch-Mode": "cors",
                "Sec-Fetch-Site": "same-site",
                "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.111 Safari/537.36"
            }
            body = "{\"page_no\":1,\"page_size\":10,\"params_data\":{\"keyword\":\""+str(key).strip()+"\",\"sort\":\"SCORE\"}}"
            return url,headers,body

        import time

        ts, he, sign, hi = get_sign(str(int(time.time()*1000)))

        key = '你好啊'
        url,headers,body = mk_url_headers_body(key, ts, he, sign, hi)
        meta = {}
        meta['proxy'] = self.proxy
        r = Request(
                url,
                method   = 'POST',
                headers  = headers,
                body     = body,
                callback = self.parse,
                meta     = meta,
            )
        yield r

    def parse(self, response):
        # If you need to parse another string in the parsing function.
        # use "etree.HTML(text)" or "Selector(text=text)" to parse it.
        # ps. if you use "etree.HTML(text)" and text startswith '<?xml version="1.0" encoding="utf-8"?>'
        # pls use "etree.HTML(re.sub(r'^ *<\?xml[^<>]+\?>', '', text))"

        print('\n')
        def header_fprint(headers_dict):
            maxklen = len(repr(max(headers_dict,key=len)))
            for keystring in sorted(headers_dict):
                valuestring = headers_dict[keystring]
                if 'cookie' in keystring.lower():
                    vlist = sorted(valuestring.split('; '))
                    for idx,value in enumerate(vlist):
                        endsp = ('; ' if idx != len(vlist)-1 else '')
                        lstring = ('{:<'+str(maxklen)+'}:({}').format(repr(keystring), repr(value+endsp)) if idx == 0 else \
                                  ('{:<'+str(maxklen)+'}  {}').format('', repr(value+endsp))
                        if idx == len(vlist)-1: lstring += '),'
                        print(lstring)
                else:
                    print(('{:<'+str(maxklen)+'}: {},').format(repr(keystring), repr(valuestring)))
        # 请求信息
        print('===========\n| request |\n===========')
        print('request method: {}\nrequest url: {}'.format(response.request.method, response.url))
        print('------------------- request headers ---------------------')
        header_fprint(response.request.headers.to_unicode_dict())
        print('------------------- request body ------------------------')
        print(response.request.body, end='\n')
        # 返回信息
        print('============\n| response |\n============')
        print('status:', response.status, '\nresponse length: {}'.format(len(response.body)))
        print('------------------- response headers --------------------')
        header_fprint(response.headers.to_unicode_dict())
        print('------------------- response content[:1000] ----------------')
        print('response content[:1000]:\n {}'.format(response.body[:1000]))
        print('=========================================================')
        chains = response.meta.get('redirect_urls') or []
        if chains: print('redirect chain:'); [print('    '+i) for i in chains+[response.url]]
        print('\n')




# 配置在单脚本情况也能爬取的脚本的备选方案，使用项目启动则下面的代码无效
if __name__ == '__main__':
    import os, time
    from scrapy.crawler import CrawlerProcess
    timestamp = time.strftime("%Y%m%d_%H%M%S", time.localtime()) # 年月日_时分秒
    filename = 'v{}.json'.format(timestamp) # 这是输出文件名字（解开 'FEED_URI' 配置注释生效）
    jobdir   = 'JOBDIR/TcuityxZHA'          # 这是队列信息地址（解开 'JOBDIR'   配置注释生效）

    p = CrawlerProcess({
        'TELNETCONSOLE_ENABLED':    False,        # 几乎没人使用到这个功能，直接关闭提高爬虫启动时间
        'MEDIA_ALLOW_REDIRECTS':    True,         # 允许图片下载地址重定向，存在图片下载需求时，请尽量使用该设置
        'LOG_LEVEL':                'INFO',       # DEBUG , INFO , WARNING , ERROR , CRITICAL
        # 'JOBDIR':                   jobdir,     # 解开注释则增加断点续爬功能
                                                  # 任务队列、任务去重指纹、任务状态存储空间(简单来说就是一个文件夹)
        # 'FEED_URI':                 filename,   # 下载数据到文件
        # 'FEED_EXPORT_ENCODING':     'utf-8',    # 在某种程度上，约等于 ensure_ascii=False 的配置选项
        # 'FEED_FORMAT':              'json',     # 下载的文件格式，不配置默认以 jsonlines 方式写入文件，
                                                  # 支持的格式 json, jsonlines, csv, xml, pickle, marshal
        # 'DOWNLOAD_TIMEOUT':         8,          # 全局请求超时，默认180。也可以在 meta 中配置单个请求的超时( download_timeout )
        # 'DOWNLOAD_DELAY':           1,          # 全局下载延迟，这个配置相较于其他的节流配置要直观很多
    })
    p.crawl(VSpider)
    p.start()

